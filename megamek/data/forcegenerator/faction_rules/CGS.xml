<?xml version="1.0" encoding="utf-8"?>

<ruleset faction="CGS" ratingSystem="CLAN" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="formationRulesetSchema.xsd">

	<!-- The Scorpions make use of combined arms trinaries that follow one of several patterns,
	and clusters are made up of particular combinations of the different types of trinaries. FM:WC
	does not mention how vehicles work in the scheme, but TRO3067 indicates that GS uses
	vehicles. SL Trinaries are given a 1:2 chance of being garrison or solahma units, which have
	a 1:2 chance for each Mek star to be replaced by a vehicle star, or 2:3 for guard trinaries.
	Garrison and solahma units are also likely to have conventional infantry. --> 
	
	<defaults>
		<eschelon>%CLUSTER%</eschelon>
		<rankSystem>%RANK_CLAN%</rankSystem>
		<rating>FL</rating>
	</defaults>

	<toc>
		<unitType>
			<option ifDateBetween="3060,">null,Mek,ProtoMek,Tank,VTOL,Infantry,BattleArmor,AeroSpaceFighter,Conventional Fighter,Warship,Dropship,Jumpship</option>
			<option ifDateBetween="2870,3059">null,Mek,Tank,VTOL,Infantry,BattleArmor,AeroSpaceFighter,Conventional Fighter,Warship,Dropship,Jumpship</option>
			<option ifDateBetween=",2869">null,Mek,Tank,VTOL,Infantry,AeroSpaceFighter,Conventional Fighter,Warship,Dropship,Jumpship</option>
		</unitType>
		
		<eschelon>
			<option ifUnitType="">%TOUMAN%,%GALAXY%,%CLUSTER%</option>
			<option ifUnitType="Warship|Dropship|Jumpship">%STAR%</option>
			<option>%TRINARY%,%BINARY%,%STAR%</option>
		</eschelon>
		
		<rating>
			<option ifUnitType="Tank|VTOL">SL:Second Line,PG:Provisional Garrison,Sol:Solahma</option>
			<option ifUnitType="Infantry" ifDateBetween="2900,">PG:Provisional Garrison,Sol:Solahma</option>
			<option ifUnitType="Infantry">PG:Provisional Garrison,Sol:Solahma</option>
			<option ifEschelon="%TOUMAN%"></option>
			<option ifEschelon="%GALAXY%">FL:Front Line,SL:Second Line</option>
			<option>Keshik,FL:Front Line,SL:Second Line,PG:Provisional Garrison,Sol:Solahma</option>
		</rating>
		
		<flags>
			<option ifEschelon="%CLUSTER%">cateran:Cateran Cluster,cuirassier:Cuirassier Cluster,dragoon:Dragoon Cluster,grenadier:Grenadier Cluster,hussar:Hussar Cluster,uhlan:Uhlan Cluster,seeker:Seeker Cluster</option>
			<option ifEschelon="%TRINARY%">assault:Assault Trinary,battle:Battle Trinary,guard:Guard Trinary,striker:Striker Trinary,specialist:Specialist Trinary,stinger:Stinger (Command) Trinary</option>
		</flags>		
	</toc>
	
	<force eschelon="%TOUMAN%" eschName="Touman">
		<co position="0">%KHAN%</co>
		<xo position="0">%SAKHAN%</xo>
		
		<subforces>
			<subforce rating="FL" role="command"
				name="Alpha Galaxy">%GALAXY%</subforce>
			<subforce rating="FL" weightClass="M"
				name="Beta Galaxy">%GALAXY%</subforce>
			<subforce rating="FL" ifDateBetween=",3073"
				name="Gamma Galaxy">%GALAXY%</subforce>
			<subforce rating="SL" ifDateBetween=",3072"
				name="Delta Galaxy">%GALAXY%</subforce>
			<subforce rating="SL" ifDateBetween=",3080"
				name="Rho Galaxy">%GALAXY%</subforce>
			<subforce rating="SL" ifDateBetween="3026,"
				name="Tau Galaxy">%GALAXY%</subforce>
			<subforce rating="SL"
				name="Mu Galaxy">%GALAXY%</subforce>
			<subforce rating="FL" ifDateBetween="3060,"
				name="Chi Galaxy">%GALAXY%</subforce>
			<subforce rating="PG" ifDateBetween="3080,"
				name="Omega Galaxy">%GALAXY%</subforce>
		</subforces>
		
		<attachedForces>
			<subforce name="Alpha Naval Reserve Star" ifDateBetween="3073,3079"
				flags="+navalFluff" unitType="Warship">%STAR%</subforce>
			<subforce name="Imperio Naval Reserve" ifDateBetween="3080,"
				flags="+navalFluff" unitType="Warship">%STAR%</subforce>
		</attachedForces>		
	</force>
	
	<!-- Chi Galaxy is made up entirely of seeker clusters. -->
	
	<force eschelon="%GALAXY%" eschName="Galaxy" ifName="Chi Galaxy">
		<co>%GALAXY_CMDR%</co>

		<subforces>
			<subforce num="3" flags="seeker">%CLUSTER%</subforce>			
		</subforces>
	</force>
	
	<!-- FL galaxies have four clusters and SL have three. All galaxies have at least one cuirassier
	and some have two, but no more than one of any other cluster type. After the Wars of Reaving
	the Imperio fields two FL galaxies of three clusters each: two cuirassiers and one
	hussar or cateran.-->
	
	<force eschelon="%GALAXY%" eschName="Galaxy">
		<name>{greek} Galaxy</name>
		<co>%GALAXY_CMDR%</co>
		
		<subforces>
			<subforce flags="cuirassier">%CLUSTER%</subforce>
		</subforces>			
		
		<subforces ifRating="FL|Keshik" ifDateBetween=",3079">
			<subforceOption>
				<option flags="cuirassier" weight="1">%CLUSTER%</option>
				<option flags="uhlan" weight="2">%CLUSTER%</option>
			</subforceOption>
			<subforceOption>
				<option flags="grenadier" weight="1">%CLUSTER%</option>
				<option flags="hussar" weight="2">%CLUSTER%</option>
			</subforceOption>
			<subforceOption>
				<option flags="cateran" weight="1">%CLUSTER%</option>
				<option flags="dragoon" weight="2">%CLUSTER%</option>
			</subforceOption>
		</subforces>
		
		<subforces ifRating="FL|Keshik" ifDateBetween="3080,">
			<subforce flags="cuirassier">%CLUSTER%</subforce>
			<subforceOption>
				<option flags="hussar">%CLUSTER%</option>
				<option flags="cateran">%CLUSTER%</option>
			</subforceOption>
		</subforces>
		
		<subforces ifRating="SL|Sol">
			<subforceOption>
				<option flags="grenadier" weight="3">%CLUSTER%</option>
				<option flags="hussar" weight="1">%CLUSTER%</option>
			</subforceOption>
			<subforceOption>
				<option flags="cuirassier" weight="1">%CLUSTER%</option>
				<option flags="uhlan" weight="1">%CLUSTER%</option>
				<option flags="dragoon" weight="2">%CLUSTER%</option>
			</subforceOption>
		</subforces>
		
		<attachedForces>
			<subforce ifName="Alpha Galaxy" name="Einheriar Battlegroup"
				flags="+navalFluff" unitType="Warship">%STAR%</subforce>
			<subforce ifName="Beta Galaxy" name="Fire Wheel Battlegroup"
				flags="+navalFluff" unitType="Warship">%STAR%</subforce>
			<subforce ifName="Gamma Galaxy" name="Wild Hunt Battlegroup" ifDateBetween=",3075"
				flags="+navalFluff" unitType="Warship">%STAR%</subforce>
			<subforce ifName="Delta Galaxy" fluffName="CGS Enceladus" ifDateBetween=",3069"
				chassis="Potemkin Troop Cruiser" unitType="Warship">%ELEMENT%</subforce>
			<subforce ifName="Mu Galaxy" fluffName="CGS Karttikeya" ifDateBetween=",3075"
				chassis="Potemkin Troop Cruiser" unitType="Warship">%ELEMENT%</subforce>
			<subforce ifName="Tau Galaxy" fluffName="CGS Epimetheus" ifDateBetween=",3061"
				chassis="Potemkin Troop Cruiser" unitType="Warship">%ELEMENT%</subforce>
			<subforce ifName="Rho Galaxy" fluffName="CGS Prometheus" ifDateBetween=",3069"
				chassis="Potemkin Troop Cruiser" unitType="Warship">%ELEMENT%</subforce>
		</attachedForces>
	</force>
	
	<!-- The post-Reaving Omega Galaxy was formed from freeborn Castillian and Umayyad
	warriors supplemented by a Solahma cluster. No details are given as to the makeup,
	but it is characterized as a militarized police force, making a 1:2 ratio of
	Meks to infantry that guard trinaries provide seem reasonable. -->
	
	<force eschelon="%CLUSTER%" eschName="Cluster" ifRating="PG">
		<name>{ordinal} Imperio Guards</name>
		<co>%STAR_COL%</co>
		
		<subforces>
			<subforce role="command">%TRINARY%</subforce>
			<subforce flags="guard" num="2">%TRINARY%</subforce>
			<subforce flags="guard" rating="Sol">%TRINARY%</subforce>			
		</subforces>
	</force>
	
	<force eschelon="%CLUSTER%" eschName="Cluster" ifFlags="hussar">
		<name>Scorpion Hussars</name>
		<co>%STAR_COL%</co>
		
		<subforces>
			<subforce role="command">%TRINARY%</subforce>
			<subforce flags="+striker" num="3">%TRINARY%</subforce>
			<subforce flags="+specialist">%TRINARY%</subforce>
		</subforces>
	</force>
	
	<force eschelon="%CLUSTER%" eschName="Cluster" ifFlags="uhlan">
		<name>Scorpion Uhlans</name>
		<co>%STAR_COL%</co>
		
		<subforces>
			<subforce role="command">%TRINARY%</subforce>
			<subforce flags="+striker" num="2">%TRINARY%</subforce>
			<subforce flags="+battle" num="2">%TRINARY%</subforce>
		</subforces>
	</force>
	
	<force eschelon="%CLUSTER%" eschName="Cluster" ifFlags="dragoon">
		<name>Scorpion Dragoons</name>
		<co>%STAR_COL%</co>
		
		<subforces>
			<subforce role="command">%TRINARY%</subforce>
			<subforce flags="+striker">%TRINARY%</subforce>
			<subforce flags="+battle" num="2">%TRINARY%</subforce>
			<subforce flags="+guard">%TRINARY%</subforce>
		</subforces>
	</force>
	
	<force eschelon="%CLUSTER%" eschName="Cluster" ifFlags="cuirassier">
		<name>Scorpion Cuirassiers</name>
		<co>%STAR_COL%</co>
		
		<subforces>
			<subforce role="command">%TRINARY%</subforce>
			<subforce flags="+battle" num="2">%TRINARY%</subforce>
			<subforce flags="+assault" num="2">%TRINARY%</subforce>
		</subforces>
	</force>
	
	<force eschelon="%CLUSTER%" eschName="Cluster" ifFlags="grenadier">
		<name>Scorpion Grenadiers</name>
		<co>%STAR_COL%</co>
		
		<subforces>
			<subforce role="command">%TRINARY%</subforce>
			<subforce flags="+guard" num="3">%TRINARY%</subforce>
			<subforce flags="+assault" num="1">%TRINARY%</subforce>
		</subforces>
	</force>
	
	<force eschelon="%CLUSTER%" eschName="Cluster" ifFlags="cateran">
		<name>Scorpion Caterans</name>
		<co>%STAR_COL%</co>
		
		<subforces>
			<subforce role="command">%TRINARY%</subforce>
			<subforce flags="+striker">%TRINARY%</subforce>
			<subforce flags="+battle">%TRINARY%</subforce>
			<subforce flags="+specialist" num="2">%TRINARY%</subforce>
		</subforces>
	</force>
	
	<!-- Details are not given on the exact composition of seeker clusters beyond that
	they have four trinaries, they are used as a test-bed for protos, and they are
	aerospace-heavy. Using a mix of battle and striker trinaries with a high chance for
	Mek stars to be replaced with PMs seems to me to fit the description well. -->
	
	<force eschelon="%CLUSTER%" eschName="Cluster" ifFlags="seeker">
		<name>Scorpion Seekers</name>
		<co>%STAR_COL%</co>
		
		<subforces>
			<subforce role="command">%TRINARY%</subforce>
			<subforce flags="+striker">%TRINARY%</subforce>
			<subforce flags="+battle">%TRINARY%</subforce>
			<subforceOption>
				<option flags="+striker">%TRINARY%</option>
				<option flags="+battle">%TRINARY%</option>
			</subforceOption>
		</subforces>
	</force>
	
	<!-- If cluster is top-level, assign cluster type. -->
	
	<force eschelon="%CLUSTER%" eschName="Cluster">
		<name>Cluster</name>
		<co>%STAR_COL%</co>
		
		<changeEschelon ifRating="FL|Keshik">
			<option flags="cuirassier" weight="4">%CLUSTER%</option>
			<option flags="hussar" weight="2">%CLUSTER%</option>
			<option flags="uhlan" weight="2">%CLUSTER%</option>
			<option flags="dragoon" weight="2">%CLUSTER%</option>
			<option flags="grenadier" weight="1">%CLUSTER%</option>
			<option flags="cateran" weight="1">%CLUSTER%</option>
		</changeEschelon>
		
		<changeEschelon>
			<option flags="cuirassier" weight="5">%CLUSTER%</option>
			<option flags="hussar" weight="1">%CLUSTER%</option>
			<option flags="uhlan" weight="1">%CLUSTER%</option>
			<option flags="dragoon" weight="2">%CLUSTER%</option>
			<option flags="grenadier" weight="3">%CLUSTER%</option>
		</changeEschelon>
	</force>
	
	<force eschelon="%TRINARY%" eschName="Trinary" ifRole="command">
		<name>[Command] Trinary</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
		    <option weight="3">A</option>
		    <option weight="4">H</option>
		    <option weight="2">M</option>
		</weightClass>
		
		<subforces>
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A" unitType="Mek">%STAR%</option>
				<option weightClass="A,H" weight="2" unitType="Mek">%STAR%</option>
				<option weightClass="A,M" unitType="Mek">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,L" unitType="Mek">%STAR%</option>
				<option weightClass="H,H" weight="2" unitType="Mek">%STAR%</option>
				<option weightClass="H,M" weight="3" unitType="Mek">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,L" unitType="Mek">%STAR%</option>
				<option weightClass="M,M" unitType="Mek">%STAR%</option>
				<option weightClass="M,L" unitType="Mek">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,L" unitType="Mek">%STAR%</option>
				<option weightClass="M,L" weight="2" unitType="Mek">%STAR%</option>
				<option weightClass="L,L" unitType="Mek">%STAR%</option>
			</subforceOption>

			<subforceOption ifWeightClass="A">
				<option weightClass="A" flags="stinger"
					weight="2">%STAR%</option>
				<option weightClass="H" flags="stinger"
					weight="1">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A" flags="stinger"
					weight="2">%STAR%</option>
				<option weightClass="H" flags="stinger"
					weight="3">%STAR%</option>
				<option weightClass="M" flags="stinger"
					weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H" flags="stinger"
					weight="2">%STAR%</option>
				<option weightClass="M" flags="stinger"
					weight="3">%STAR%</option>
				<option weightClass="L" flags="stinger"
					weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M" flags="stinger"
					weight="1">%STAR%</option>
				<option weightClass="L" flags="stinger"
					weight="2">%STAR%</option>
			</subforceOption>
		</subforces>		
	</force>
	
	<!-- Two stars of heavy to assault Meks and one star of BA -->
	
	<force eschelon="%TRINARY%" eschName="Trinary" ifFlags="assault">
		<name>{phonetic:distinct} [Assault] Trinary</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
		    <option weight="3">A</option>
		    <option weight="1">H</option>
		</weightClass>
		
		<flags ifRating="SL">
			<option weight="2"/>
			<option rating="PG"/>
			<option rating="Sol"/>
		</flags>
		
		<subforces>
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A" unitType="Mek">%STAR%</option>
				<option weightClass="A,H" weight="2" unitType="Mek">%STAR%</option>
				<option weightClass="A,M" unitType="Mek">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,H" weight="3" unitType="Mek">%STAR%</option>
				<option weightClass="H,H" weight="3" unitType="Mek">%STAR%</option>
				<option weightClass="H,M" unitType="Mek">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M|L">
				<option weightClass="H,H" weight="3" unitType="Mek">%STAR%</option>
				<option weightClass="H,M" unitType="Mek">%STAR%</option>
			</subforceOption>
			
			<subforceOption ifWeightClass="A">
				<option unitType="BattleArmor"
					weightClass="A" weight="1">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="H" weight="3">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="M" weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option unitType="BattleArmor"
					weightClass="A" weight="1">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="H" weight="2">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="M" weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option unitType="BattleArmor"
					weightClass="H" weight="1">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="M" weight="2">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="L" weight="1">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option unitType="BattleArmor"
					weightClass="H" weight="1">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="M" weight="3">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="L" weight="2">%STAR%</option>
			</subforceOption>				
		</subforces>		
	</force>
	
	<!-- One star each of Meks (L-H), BA, Aero -->
	
	<force eschelon="%TRINARY%" eschName="Trinary" ifFlags="battle">
		<name>{phonetic:distinct} [Battle] Trinary</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
		    <option weight="2">H</option>
		    <option weight="4">M</option>
		    <option weight="3">L</option>
		</weightClass>
		
		<flags ifRating="SL">
			<option weight="2"/>
			<option rating="PG"/>
			<option rating="Sol"/>
		</flags>
		
		<subforces>
			<subforceOption ifWeightClass="A|H">
				<option weightClass="A" unitType="Mek"
					weight="2">%STAR%</option>
				<option weightClass="H" unitType="Mek"
					weight="3">%STAR%</option>
				<option weightClass="M" unitType="Mek"
					weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H" unitType="Mek"
					weight="2">%STAR%</option>
				<option weightClass="M" unitType="Mek"
					weight="3">%STAR%</option>
				<option weightClass="L" unitType="Mek"
					weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M" unitType="Mek"
					weight="1">%STAR%</option>
				<option weightClass="L" unitType="Mek"
					weight="2">%STAR%</option>
			</subforceOption>
						
			<subforceOption ifWeightClass="A">
				<option unitType="BattleArmor"
					weightClass="A" weight="1">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="H" weight="3">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="M" weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option unitType="BattleArmor"
					weightClass="A" weight="1">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="H" weight="2">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="M" weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option unitType="BattleArmor"
					weightClass="H" weight="1">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="M" weight="2">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="L" weight="1">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option unitType="BattleArmor"
					weightClass="H" weight="1">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="M" weight="3">%STAR%</option>
				<option unitType="BattleArmor"
					weightClass="L" weight="2">%STAR%</option>
			</subforceOption>

			<subforceOption ifWeightClass="H|A">
				<option weightClass="H" unitType="AeroSpaceFighter"
					weight="3">%STAR%</option>
				<option weightClass="M" unitType="AeroSpaceFighter"
					weight="2">%STAR%</option>
				<option weightClass="L" unitType="AeroSpaceFighter"
					weight="1">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H" unitType="AeroSpaceFighter"
					weight="2">%STAR%</option>
				<option weightClass="M" unitType="AeroSpaceFighter"
					weight="3">%STAR%</option>
				<option weightClass="L" unitType="AeroSpaceFighter"
					weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H" unitType="AeroSpaceFighter"
					weight="1">%STAR%</option>
				<option weightClass="M" unitType="AeroSpaceFighter"
					weight="2">%STAR%</option>
				<option weightClass="L" unitType="AeroSpaceFighter"
					weight="3">%STAR%</option>
			</subforceOption>
		</subforces>		
	</force>
	
	<!-- Two stars of BA with a supporting Mek Star -->
	
	<force eschelon="%TRINARY%" eschName="Trinary" ifFlags="guard">
		<name>{phonetic:distinct} [Guard] Trinary</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
		    <option weight="1">A</option>
		    <option weight="2">H</option>
		    <option weight="4">M</option>
		    <option weight="3">L</option>
		</weightClass>
		
		<flags ifRating="SL">
			<option weight="2"/>
			<option rating="PG"/>
			<option rating="Sol"/>
		</flags>
		
		<subforces>
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A" unitType="BattleArmor">%STAR%</option>
				<option weightClass="A,H" unitType="BattleArmor">%STAR%</option>
				<option weightClass="A,M" weight="2" unitType="BattleArmor">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,L" unitType="BattleArmor">%STAR%</option>
				<option weightClass="H,H" weight="2" unitType="BattleArmor">%STAR%</option>
				<option weightClass="H,M" weight="3" unitType="BattleArmor">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,L" unitType="BattleArmor">%STAR%</option>
				<option weightClass="M,M" weight="3" unitType="BattleArmor">%STAR%</option>
				<option weightClass="M,L" weight="2" unitType="BattleArmor">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,L" unitType="BattleArmor">%STAR%</option>
				<option weightClass="M,L" weight="2" unitType="BattleArmor">%STAR%</option>
				<option weightClass="L,L" unitType="BattleArmor">%STAR%</option>
			</subforceOption>
			
			<subforceOption ifWeightClass="A">
				<option weightClass="A" unitType="Mek"
					weight="2">%STAR%</option>
				<option weightClass="H" unitType="Mek"
					weight="1">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A" unitType="Mek"
					weight="2">%STAR%</option>
				<option weightClass="H" unitType="Mek"
					weight="3">%STAR%</option>
				<option weightClass="M" unitType="Mek"
					weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H" unitType="Mek"
					weight="2">%STAR%</option>
				<option weightClass="M" unitType="Mek"
					weight="3">%STAR%</option>
				<option weightClass="L" unitType="Mek"
					weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M" unitType="Mek"
					weight="1">%STAR%</option>
				<option weightClass="L" unitType="Mek"
					weight="2">%STAR%</option>
			</subforceOption>
		</subforces>
	</force>

	<!-- Two stars of BA with a Star of Kirghiz-C ASF transports -->
	
	<force eschelon="%TRINARY%" eschName="Trinary" ifFlags="specialist">
		<name>{phonetic:distinct} [Specialist] Trinary</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
		    <option weight="1">A</option>
		    <option weight="2">H</option>
		    <option weight="4">M</option>
		    <option weight="3">L</option>
		</weightClass>
		
		<subforces>
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A" unitType="BattleArmor">%STAR%</option>
				<option weightClass="A,H" unitType="BattleArmor">%STAR%</option>
				<option weightClass="A,M" weight="2" unitType="BattleArmor">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,L" unitType="BattleArmor">%STAR%</option>
				<option weightClass="H,H" weight="2" unitType="BattleArmor">%STAR%</option>
				<option weightClass="H,M" weight="3" unitType="BattleArmor">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,L" unitType="BattleArmor">%STAR%</option>
				<option weightClass="M,M" weight="3" unitType="BattleArmor">%STAR%</option>
				<option weightClass="M,L" weight="2" unitType="BattleArmor">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,L" unitType="BattleArmor">%STAR%</option>
				<option weightClass="M,L" weight="2" unitType="BattleArmor">%STAR%</option>
				<option weightClass="L,L" unitType="BattleArmor">%STAR%</option>
			</subforceOption>
			
			<subforceOption>
				<option unitType="AeroSpaceFighter" role="cargo" ifDateBetween=",2900">%STAR%</option>
				<option weightClass="H" unitType="AeroSpaceFighter" model="Kirghiz C" ifDateBetween="2874,">%STAR%</option>
			</subforceOption>
		</subforces>
	</force>		
	
	<!-- Two stars of Meks (L-H) and one star of ASF (superiority or recon) -->
	
	<force eschelon="%TRINARY%" eschName="Trinary" ifFlags="striker">
		<name>{phonetic:distinct} [Striker] Trinary</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
		    <option weight="2">H</option>
		    <option weight="4">M</option>
		    <option weight="3">L</option>
		</weightClass>

		<subforces>
			<subforceOption ifWeightClass="H|A">
				<option weightClass="A,L" unitType="Mek">%STAR%</option>
				<option weightClass="H,H" weight="2" unitType="Mek">%STAR%</option>
				<option weightClass="H,M" weight="3" unitType="Mek">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,L" unitType="Mek">%STAR%</option>
				<option weightClass="M,M" unitType="Mek">%STAR%</option>
				<option weightClass="M,L" unitType="Mek">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,L" unitType="Mek">%STAR%</option>
				<option weightClass="M,L" weight="2" unitType="Mek">%STAR%</option>
				<option weightClass="L,L" unitType="Mek">%STAR%</option>
			</subforceOption>
			
			<subforceOption ifWeightClass="H|A">
				<option weightClass="H" unitType="AeroSpaceFighter"
					weight="1">%STAR%</option>
				<option weightClass="M" unitType="AeroSpaceFighter"
					weight="3">%STAR%</option>
				<option weightClass="L" unitType="AeroSpaceFighter"
					weight="2">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="M" unitType="AeroSpaceFighter">%STAR%</option>
				<option weightClass="L" unitType="AeroSpaceFighter">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="M" unitType="AeroSpaceFighter"
					weight="2">%STAR%</option>
				<option weightClass="L" unitType="AeroSpaceFighter"
					weight="3">%STAR%</option>
			</subforceOption>
		</subforces>			
	</force>
	
	<!-- If Trinary is top-level, assign trinary type. -->
	
	<force eschelon="%TRINARY%" eschName="Trinary">
		<co>%STAR_CAPTAIN%</co>
		
		<changeEschelon ifRating="FL|Keshik">
			<option role="command" weight="12">%TRINARY%</option>
			<option flags="assault" weight="9">%TRINARY%</option>
			<option flags="battle" weight="17">%TRINARY%</option>
			<option flags="guard" weight="5">%TRINARY%</option>
			<option flags="striker" weight="13">%TRINARY%</option>
			<option flags="specialist" weight="4">%TRINARY%</option>
		</changeEschelon>

		<changeEschelon ifRating="PG">
			<option role="command" weight="1">%TRINARY%</option>
			<option flags="guard" weight="3">%TRINARY%</option>
		</changeEschelon>
		
		<changeEschelon>
			<option role="command" weight="12">%TRINARY%</option>
			<option flags="assault" weight="13">%TRINARY%</option>
			<option flags="battle" weight="16">%TRINARY%</option>
			<option flags="guard" weight="7">%TRINARY%</option>
			<option flags="striker" weight="7">%TRINARY%</option>
			<option flags="specialist" weight="1">%TRINARY%</option>
		</changeEschelon>
	</force>		
	
	<!-- Part of command star: 2 Meks, 2 BA points, 1 ASF point -->
	
	<force eschelon="%STAR%" eschName="Star" ifFlags="stinger">
		<name>Stinger Star</name>
		<co>%STAR_CMDR%</co>
		
		<formation>
			<option role="+command">Command</option>
		</formation>
		
		<subforces generate="group">
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A" unitType="Mek">%ELEMENT%</option>
				<option weightClass="A,H" weight="2" unitType="Mek">%ELEMENT%</option>
				<option weightClass="A,M" unitType="Mek">%ELEMENT%</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,L" unitType="Mek">%ELEMENT%</option>
				<option weightClass="H,H" weight="2" unitType="Mek">%ELEMENT%</option>
				<option weightClass="H,M" weight="3" unitType="Mek">%ELEMENT%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,L" unitType="Mek">%ELEMENT%</option>
				<option weightClass="M,M" unitType="Mek">%ELEMENT%</option>
				<option weightClass="M,L" unitType="Mek">%ELEMENT%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,L" unitType="Mek">%ELEMENT%</option>
				<option weightClass="M,L" weight="2" unitType="Mek">%ELEMENT%</option>
				<option weightClass="L,L" unitType="Mek">%ELEMENT%</option>
			</subforceOption>
		</subforces>
		
		<subforces generate="group">
			<subforce unitType="BattleArmor" num="2">%POINT%</subforce>
		</subforces>
		
		<subforces generate="group">
			<subforceOption ifWeightClass="H|A">
				<option weightClass="H,H" unitType="AeroSpaceFighter"
					weight="3">%ELEMENT%</option>
				<option weightClass="M,M" unitType="AeroSpaceFighter"
					weight="2">%ELEMENT%</option>
				<option weightClass="L,L" unitType="AeroSpaceFighter"
					weight="1">%ELEMENT%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,H" unitType="AeroSpaceFighter"
					weight="2">%ELEMENT%</option>
				<option weightClass="M,M" unitType="AeroSpaceFighter"
					weight="3">%ELEMENT%</option>
				<option weightClass="L,L" unitType="AeroSpaceFighter"
					weight="2">%ELEMENT%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,H" unitType="AeroSpaceFighter"
					weight="1">%ELEMENT%</option>
				<option weightClass="M,M" unitType="AeroSpaceFighter"
					weight="2">%ELEMENT%</option>
				<option weightClass="L,L" unitType="AeroSpaceFighter"
					weight="3">%ELEMENT%</option>
			</subforceOption>
		</subforces>		
	</force>
	
	<!-- Replace some Meks with Protos, with a higher chance in seeker clusters.
	Each Mek star in a garrison or solahma unit has a chance of being replaced
	with a vehicle star, with the chance being higher in guard units. -->
	
	<force eschelon="%STAR%" eschName="Star" ifUnitType="Mek|ProtoMek">
		<name>{ordinal} {phonetic:parent} {name:parent} Star</name>
		<co>%STAR_CMDR%</co>
		
		<changeEschelon ifRating="PG|Sol">
			<option/>
			<option unitType="Tank">%STAR%</option>
			<option unitType="Tank" ifFlags="guard">%STAR%</option>
		</changeEschelon>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="3">H</option>
			<option weight="2">M</option>
			<option weight="1">L</option>
			<option ifRole="command" weight="1">A</option>
			<option ifRole="command" weight="1">H</option>
		</weightClass>

		<unitType ifUnitType="Mek" ifDateBetween="3060," ifRole="!command" ifTopLevel="0">
			<option weight="6" />
			<option ifRating="FL|SL">ProtoMek</option>
			<option ifRating="FL|SL" ifDateBetween="3070,">ProtoMek</option>
			<option ifFlags="seeker" weight="2">ProtoMek</option>
		</unitType>
		
        <ruleGroup>
			<formation ifIndex="0">
				<option weight="30">Battle</option>
				<option weight="12" ifWeightClass="H|A">Heavy Battle</option>
				<option weight="8" ifWeightClass="M">Medium Battle</option>
				<option weight="2" ifWeightClass="L">Light Battle</option>
				<option weight="12" ifWeightClass="H|A">Assault</option>
				<option weight="8" ifWeightClass="L|M|H">Striker/Cavalry</option>
				<option weight="4" ifWeightClass="H|A">Heavy Striker/Cavalry</option>
				<option weight="4" ifWeightClass="L">Light Striker/Cavalry</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" role="+urban">Urban</option>
			</formation>

			<formation ifIndex="!0">
				<option weight="16">Fire</option>
				<option weight="1">Fire Support</option>
				<option weight="8">Direct Fire</option>
				<option weight="2" ifWeightClass="L|M">Light Fire</option>
				<option weight="1" role="+anti_aircraft">Anti-Air</option>
				<option weight="24">Battle</option>
				<option weight="6" ifIndex="0,1">Battle</option>
				<option weight="12" ifWeightClass="H|A">Heavy Battle</option>
				<option weight="6" ifWeightClass="M">Medium Battle</option>
				<option weight="2" ifWeightClass="L">Light Battle</option>
				<option weight="6" ifWeightClass="H|A">Assault</option>
				<option weight="4" ifWeightClass="L|M|H">Striker/Cavalry</option>
				<option weight="4" ifWeightClass="H|A">Heavy Striker/Cavalry</option>
				<option weight="2" ifWeightClass="L">Light Striker/Cavalry</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" ifWeightClass="L|M|H">Ranger</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" ifWeightClass="L|M|H">Probe</option>
				<option weight="1" ifWeightClass="L|M|H">Sweep</option>
				<option weight="1" role="+urban">Urban</option>
				<option weight="24" ifWeightClass="L|M" role="+recon">Recon</option>
				<option weight="8" ifWeightClass="H" role="+recon">Heavy Recon</option>
				<option weight="6" ifWeightClass="L" role="+recon">Light Recon</option>				
			</formation>
		</ruleGroup>
		
		<subforces>
			<asParent/>
		</subforces>
	</force>
	
	<force eschelon="%STAR%" eschName="Star" ifUnitType="AeroSpaceFighter">
		<name>{ordinal} {phonetic:parent} {name:parent} Star</name>
		<co>%STAR_CMDR%</co>
		
		<weightClass>
			<option>H</option>
			<option>M</option>
			<option>L</option>
			<option ifRole="command" weight="2">H</option>
			<option ifRole="command" weight="1">M</option>			
		</weightClass>
		
		<ruleGroup>
			<formation>
				<option weight="3" ifWeightClass="L|M">Aerospace Superiority Squadron</option>
				<option weight="3" ifFlags="striker">Aerospace Superiority Squadron</option>
				<option>Fire Support Squadron</option>
				<option weight="2" ifWeightClass="L|M">Interceptor Squadron</option>
				<option weight="2" ifFlags="striker">Interceptor Squadron</option>
				<option weight="3" ifWeightClass="M|H">Strike Squadron</option>
			</formation>
		</ruleGroup>

		<subforces>
			<asParent/>
		</subforces>
	</force>
	
	<force eschelon="%STAR%" eschName="Star" ifUnitType="Tank">
		<name>{ordinal} {phonetic:parent} {name:parent} Star</name>
		<co>%STAR_CMDR%</co>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="3">H</option>
			<option weight="1">M</option>
			<option weight="2">L</option>
		</weightClass>

		<ruleGroup>
			<formation>
				<option weight="32">Fire</option>
				<option weight="6">Fire Support</option>
				<option weight="4">Direct Fire</option>
				<option weight="4">Light Fire</option>
				<option weight="2" role="+anti_aircraft">Anti-Air</option>
				<option weight="8">Artillery Fire</option>
				<option weight="30">Battle</option>
				<option weight="12" ifWeightClass="H|A">Heavy Battle</option>
				<option weight="8" ifWeightClass="M">Medium Battle</option>
				<option weight="2" ifWeightClass="L">Light Battle</option>
				<option weight="6" ifWeightClass="H|A">Assault</option>
				<option weight="4" ifWeightClass="L|M|H">Striker/Cavalry</option>
				<option weight="2" ifWeightClass="H|A">Heavy Striker/Cavalry</option>
				<option weight="2" ifWeightClass="L">Light Striker/Cavalry</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" ifWeightClass="L|M|H">Ranger</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" ifWeightClass="L|M|H">Probe</option>
				<option weight="1" ifWeightClass="L|M|H">Sweep</option>
				<option weight="32" ifWeightClass="L|M" role="+recon">Recon</option>
				<option weight="10" ifWeightClass="H" role="+recon">Heavy Recon</option>
				<option weight="10" ifWeightClass="L" role="+recon">Light Recon</option>				
			</formation>
 		</ruleGroup>

		<subforces>
			<asParent/>
		</subforces>
	</force>
		
	<force eschelon="%STAR%" eschName="Star" ifUnitType="ProtoMek">
		<name>{ordinal} {phonetic:parent} {name:parent} Star</name>
		<co>%STAR_CMDR%</co>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="2">H</option>
			<option weight="4">M</option>
			<option weight="3">L</option>
		</weightClass>

        <ruleGroup>
			<formation ifIndex="0">
				<option weight="30">Battle</option>
				<option weight="12" ifWeightClass="H|A">Heavy Battle</option>
				<option weight="8" ifWeightClass="M">Medium Battle</option>
				<option weight="2" ifWeightClass="L">Light Battle</option>
				<option weight="12" ifWeightClass="H|A">Assault</option>
				<option weight="8" ifWeightClass="L|M|H">Striker/Cavalry</option>
				<option weight="4" ifWeightClass="H|A">Heavy Striker/Cavalry</option>
				<option weight="4" ifWeightClass="L">Light Striker/Cavalry</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" role="+urban">Urban</option>
			</formation>

			<formation ifIndex="!0">
				<option weight="16">Fire</option>
				<option weight="2">Fire Support</option>
				<option weight="8">Direct Fire</option>
				<option weight="2" ifWeightClass="L|M">Light Fire</option>
				<option weight="1" role="+anti_aircraft">Anti-Air</option>
				<option weight="24">Battle</option>
				<option weight="6" ifIndex="0,1">Battle</option>
				<option weight="12" ifWeightClass="H|A">Heavy Battle</option>
				<option weight="6" ifWeightClass="M">Medium Battle</option>
				<option weight="2" ifWeightClass="L">Light Battle</option>
				<option weight="6" ifWeightClass="H|A">Assault</option>
				<option weight="4" ifWeightClass="L|M|H">Striker/Cavalry</option>
				<option weight="4" ifWeightClass="H|A">Heavy Striker/Cavalry</option>
				<option weight="2" ifWeightClass="L">Light Striker/Cavalry</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" ifWeightClass="L|M|H">Ranger</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" ifWeightClass="L|M|H">Probe</option>
				<option weight="1" ifWeightClass="L|M|H">Sweep</option>
				<option weight="1" role="+urban">Urban</option>
				<option weight="24" ifWeightClass="L|M" role="+recon">Recon</option>
				<option weight="8" ifWeightClass="H" role="+recon">Heavy Recon</option>
				<option weight="6" ifWeightClass="L" role="+recon">Light Recon</option>				
			</formation>
		</ruleGroup>
		
		<subforces>
			<subforce num="5">%POINT%</subforce>
		</subforces>
	</force>
	
	<force eschelon="%STAR%" eschName="Star" ifUnitType="BattleArmor|Infantry">
		<name>{ordinal} {phonetic:parent} {name:parent} Star</name>
		<co>%STAR_CMDR%</co>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="2">H</option>
			<option weight="4">M</option>
			<option weight="3">L</option>
		</weightClass>
		
		<unitType ifUnitType="BattleArmor">
			<option ifDateBetween=",2870">Infantry</option>
			<option ifDateBetween=",2900">Infantry</option>
			<option ifRating="PG|Sol" weight="5">Infantry</option>
			<option ifDateBetween="2871,"/>
		</unitType>

		<subforces generate="group">
			<subforce num="5">%POINT%</subforce>
		</subforces>
	</force>
	
	<force eschelon="%STAR%" eschName="Battlegroup" ifUnitType="Warship" ifFlags="navalFluff">
		<co>%GALAXY_CMDR%</co>
		
		<subforces ifName="Einheriar Battlegroup">
			<subforce fluffName="CGS Lei Kung"
				chassis="McKenna Battleship">%ELEMENT%</subforce>
			<subforce fluffName="CGS Sagitta" ifDateBetween=",3069"
				chassis="Lola III Destroyer">%ELEMENT%</subforce>
			<subforce fluffName="CGS Corona Borealis" ifDateBetween=",3072"
				chassis="Aegis Heavy Cruiser">%ELEMENT%</subforce>
			<subforce fluffName="CGS Bernlad" ifDateBetween=",3072"
				chassis="Congress Frigate">%ELEMENT%</subforce>
		</subforces>

		<subforces ifName="Fire Wheel Battlegroup">
			<subforce fluffName="CGS Hephaestus" ifDateBetween=",3081"
				chassis="Cameron Battlecruiser">%ELEMENT%</subforce>
			<subforce fluffName="CGS Auriga" ifDateBetween=",3072"
				chassis="Lola III Destroyer">%ELEMENT%</subforce>
			<subforce fluffName="CGS Corona Austrina"
				chassis="Aegis Heavy Cruiser">%ELEMENT%</subforce>
			<subforce fluffName="CGS Garlón" ifDateBetween=",3069"
				chassis="Congress Frigate">%ELEMENT%</subforce>
		</subforces>

		<subforces ifName="Wild Hunt Battlegroup">
			<subforce fluffName="CGS Átropos" ifDateBetween="2932,3072"
				chassis="Nightlord Battleship">%ELEMENT%</subforce>
			<subforce fluffName="CGS Orpheus" ifDateBetween=",3072"
				chassis="Essex II Destroyer">%ELEMENT%</subforce>
			<subforce fluffName="CGS Serket" ifDateBetween=",3072"
				chassis="Sovetskii Soyuz Heavy Cruiser">%ELEMENT%</subforce>
			<subforce fluffName="CGS Collerane" ifDateBetween=",3075"
				chassis="Carrack Transport">%ELEMENT%</subforce>
			<subforce fluffName="CGS Andromeda" ifDateBetween=",3072"
				chassis="Volga Transport">%ELEMENT%</subforce>
		</subforces>
		
		<subforces ifName="Alpha Naval Reserve Star">
			<subforce fluffName="CGS Átropos"
				chassis="Nightlord Battleship">%ELEMENT%</subforce>
			<subforce fluffName="CGS Auriga" ifDateBetween=",3073"
				chassis="Lola III Destroyer">%ELEMENT%</subforce>
			<subforce fluffName="CGS Bernlad"
				chassis="Congress Frigate">%ELEMENT%</subforce>
			<subforce fluffName="CGS Serket" ifDateBetween=",3073"
				chassis="Sovetskii Soyuz Heavy Cruiser">%ELEMENT%</subforce>
			<subforce fluffName="CGS Corona Borealis" ifDateBetween=",3073"
				chassis="Aegis Heavy Cruiser">%ELEMENT%</subforce>
		</subforces>
		
		<subforces ifName="Imperio Naval Reserve">
			<subforce fluffName="CGS Lei Kung"
				chassis="McKenna Battleship">%ELEMENT%</subforce>
			<subforce fluffName="CGS Corona Austrina"
				chassis="Aegis Heavy Cruiser">%ELEMENT%</subforce>
			<subforce fluffName="CGS Bernlad"
				chassis="Congress Frigate">%ELEMENT%</subforce>
		</subforces>
	</force>
</ruleset>
