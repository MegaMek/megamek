<?xml version="1.0" encoding="utf-8"?>

<ruleset faction="CSJ" ratingSystem="CLAN" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="formationRulesetSchema.xsd">

	<defaults>
		<eschelon>%CLUSTER%</eschelon>
		<rankSystem>%RANK_CLAN%</rankSystem>
		<rating>FL</rating>
	</defaults>
	
	<!--FL unit composition is based primarily on the makeup of Beta,
	Delta, and Epsilon Galaxies in the Invading Clans sourcebook.-->
	
	<toc>
		<unitType>
			<option ifDateBetween="3059,">null,Mek,ProtoMek,Tank,VTOL,Infantry,BattleArmor,AeroSpaceFighter,Conventional Fighter,Warship,Dropship,Jumpship</option>
			<option ifDateBetween="2870,3059">null,Mek,Tank,VTOL,Infantry,BattleArmor,AeroSpaceFighter,Conventional Fighter,Warship,Dropship,Jumpship</option>
			<option ifDateBetween=",2869">null,Mek,Tank,VTOL,Infantry,AeroSpaceFighter,Conventional Fighter,Warship,Dropship,Jumpship</option>
		</unitType>
		
		<eschelon>
			<option ifUnitType="">%TOUMAN%,%GALAXY%,%CLUSTER%</option>
			<option ifUnitType="Warship">%CLUSTER%</option>
			<option ifUnitType="Dropship|Jumpship">%STAR%</option>
			<option ifUnitType="Mek" ifDateBetween="2870,">%TRINARY%^,%TRINARY%,%BINARY%^,%BINARY%,%STAR%^,%STAR%</option>
			<option>%TRINARY%,%BINARY%,%STAR%</option>
		</eschelon>
		
		<rating>
			<option ifUnitType="Tank|VTOL">SL:Second Line,PG:Provisional Garrison,Sol:Solahma</option>
			<option ifUnitType="Infantry" ifDateBetween="2900,">PG:Provisional Garrison,Sol:Solahma</option>
			<option ifUnitType="Infantry">SL:Second Line,PG:Provisional Garrison,Sol:Solahma</option>
			<option ifEschelon="%TOUMAN%"></option>
			<option ifEschelon="%GALAXY%">FL:Front Line,SL:Second Line,Sol:Solahma</option>
			<option>Keshik,FL:Front Line,SL:Second Line,PG:Provisional Garrison,Sol:Solahma</option>
		</rating>
		
		<flags>
			<option ifUnitType="null|Mek|BattleArmor" ifEschelon="%TRINARY%|%BINARY%">mixedMekBA:Combined Mek/BA unit</option>
		</flags>
	</toc>
	
	<force eschelon="%TOUMAN%" eschName="Touman">
		<co>%KHAN%</co>
		<xo>%SAKHAN%</xo>
		
		<subforces>
			<subforce name="Alpha Galaxy" rating="FL"
				role="command">%GALAXY%</subforce>
			<subforce name="Beta Galaxy" rating="FL">%GALAXY%</subforce>
			<subforce name="Delta Galaxy" rating="FL">%GALAXY%</subforce>
			<subforce name="Epsilon Galaxy"
				rating="FL">%GALAXY%</subforce>			

			<subforce name="Zeta Galaxy" rating="SL">%GALAXY%</subforce>
			<subforce name="Kappa Galaxy" rating="SL">%GALAXY%</subforce>
			<subforce name="Nu Galaxy" rating="SL">%GALAXY%</subforce>
			<subforce name="Pi Galaxy" rating="SL">%GALAXY%</subforce>
			<subforce name="Tau Galaxy" ifDateBetween="3056,3058"
				rating="SL">%GALAXY%</subforce>
			<subforce name="Psi Galaxy" rating="SL">%GALAXY%</subforce>
			<subforce name="Omega Galaxy" rating="SL">%GALAXY%</subforce>
			
			<subforce name="Iron Guard Galaxy"
				rating="Sol">%GALAXY%</subforce>
			<subforce name="Watchmen Galaxy"
				rating="Sol">%GALAXY%</subforce>
		</subforces>
		
		<attachedForces>
			<subforce unitType="Warship">%CLUSTER%</subforce>
		</attachedForces>
	</force>
	
	<force eschelon="%CLUSTER%" eschName="Fleet" ifUnitType="Warship">
		<name>Naval Reserve</name>
		<co>%GALAXY_CMDR%</co>
		
		<subforces>
			<subforce role="command" fluffName="CSJ Obsidian"
			 	ifDateBetween=",2868"
				chassis="McKenna Battleship">%ELEMENT%</subforce>
			<subforce
				chassis="Sovetskii Soyuz Heavy Cruiser">%ELEMENT%</subforce>
			<subforce chassis="Vincent Corvette">%ELEMENT%</subforce>
			<subforce chassis="Vincent Corvette">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Queen Lynx" ifDateBetween="2950,3059"
				chassis="York Destroyer-Carrier">%ELEMENT%</subforce>
			<subforce chassis="Congress Frigate">%ELEMENT%</subforce>
			<subforce ifDateBetween="2965,"
				chassis="Fredasa (Corvette-Raider)">%ELEMENT%</subforce>
			<subforce ifDateBetween="2965,"
				chassis="Fredasa (Corvette-Raider)">%ELEMENT%</subforce>

			<subforce fluffName="CSJ Veiled Huntress" ifDateBetween=",3059"
				chassis="Texas Battleship">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Sabre Cat"
				chassis="Essex II Destroyer">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Korat"
				ifDateBetween=",3024"
				chassis="Avatar Heavy Cruiser">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Korat"
				ifDateBetween="3025,"
				chassis="Liberator Cruiser">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Griffin" ifDateBetween=",3059"
				chassis="Lola III Destroyer">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Snow Leopard" ifDateBetween=",3059"
				chassis="Congress Frigate">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Storm Cat" ifDateBetween=",3059"
				chassis="Lola III Destroyer">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Dark Claw" ifDateBetween=",3058"
				chassis="Essex II Destroyer">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Streaking Mist"
				chassis="Black Lion II Battlecruiser">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Firecrest" ifDateBetween=",3059"
				chassis="Congress Frigate">%ELEMENT%</subforce>
			<subforce fluffName="CSJ The Iowa" ifDateBetween=",3059"
				chassis="Essex II Destroyer">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Ripper" ifDateBetween=",3059"
				chassis="Vincent Corvette">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Azov"
				chassis="Vincent Corvette">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Simas Osis"
				chassis="Vincent Corvette">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Osis&apos; Pride"
				chassis="Potemkin Troop Cruiser">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Lioness" ifDateBetween=",3059"
				chassis="York Destroyer-Carrier">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Hunter&apos;s Pride"
				ifDateBetween="2950,3055"
				chassis="Congress Frigate">%ELEMENT%</subforce>
			<subforce fluffName="CSJ Hell Fury" ifDateBetween="2965,3053"
				chassis="Fredasa (Corvette-Raider)">%ELEMENT%</subforce>
			<subforce chassis="Whirlwind Destroyer">%ELEMENT%</subforce>
		</subforces>
	</force>

	<force eschelon="%GALAXY%" eschName="Galaxy">
		<name>{greek} Galaxy</name>
		<co>%GALAXY_CMDR%</co>
		
		<subforces ifRating="FL">
			<subforce role="command" unitType="Mek" rating="Keshik"
				flags="keshik">%TRINARY%</subforce>
		</subforces>
		<subforces ifRating="SL|Sol">
			<subforceOption>
				<option role="command" unitType="Mek"
					flags="keshik">%TRINARY%</option>
			</subforceOption>
		</subforces>
		<subforces>
			<subforceOption>
				<option num="3">%CLUSTER%</option>
				<option num="4">%CLUSTER%</option>
				<option num="5">%CLUSTER%</option>
			</subforceOption>
		</subforces>
	</force>
	
	<force eschelon="%CLUSTER%" eschName="Cluster">
		<name ifRating="FL" ifWeightClass="A|H">Assault Cluster</name>
		<name ifRating="FL" ifWeightClass="M">Battle Cluster</name>
		<name ifRating="FL" ifWeightClass="L">Striker Cluster</name>
		<name ifRating="SL">Garrison Cluster</name>
		<name ifRating="Sol">Solahma Cluster</name>
		<co>%STAR_COL%</co>
		
		<weightClass>
			<option weight="2">H</option>
			<option weight="2">M</option>
			<option weight="1">L</option>
		</weightClass>
		
		<!--Typical clusters contain a command trinary (usually Meks,
		but sometimes two Novas and a BA or ASF star), 3-4 Mek trinaries
		(sometimes SN or occasionally mixed Mek/BA), a BA binary, and
		sometimes 1-3 ASF stars.-->
		
		<subforces>
			<subforceOption ifWeightClass="A|H">
				<option weightClass="A" unitType="Mek" role="command"
					flags="+testTrinary"
					weight="2">%TRINARY%</option>
				<option weightClass="H" unitType="Mek" role="command"
					flags="+testTrinary"
					weight="1">%TRINARY%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H" unitType="Mek" role="command"
					flags="+testTrinary"
					weight="2">%TRINARY%</option>
				<option weightClass="M" unitType="Mek" role="command"
					flags="+testTrinary"
					weight="1">%TRINARY%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H" unitType="Mek" role="command"
					flags="+testTrinary"
					weight="1">%TRINARY%</option>
				<option weightClass="M" unitType="Mek" role="command"
					flags="+testTrinary"
					weight="2">%TRINARY%</option>
				<option weightClass="L" unitType="Mek" role="command"
					flags="+testTrinary"
					weight="1">%TRINARY%</option>
			</subforceOption>
		</subforces>

		<!--FL clusters get at least three Mek trinaries.-->
		
		<subforces ifRating="FL|Keshik">
			<subforceOption ifWeightClass="H|A">
				<option weightClass="A,A,A" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="A,A,H" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="A,A,M" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="A,A,L" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="A,H,H" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="H,H,H" unitType="Mek"
					>%TRINARY%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="A,H,M" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="A,H,L" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="A,M,M" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="A,M,L" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="A,L,L" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="H,H,M" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="H,H,L" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="H,M,M" unitType="Mek"
					>%TRINARY%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,M,L" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="M,M,M" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="H,L,L" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="M,M,L" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="M,L,L" unitType="Mek"
					>%TRINARY%</option>
				<option weightClass="L,L,L" unitType="Mek"
					>%TRINARY%</option>
			</subforceOption>
		</subforces>
			
		<!--SL, Solahma, and garrison units will have 2-3 Trinaries of either
		'Mechs or vehicles or a mix. The Jaguars were annihilated before Clan vehicles
		were introduced, but I suspect they were used less than most other Clans. --> 
		
		<!--The first two are either both Mek (SL/PG) or both armor (PG/Sol). -->
		
		<subforces ifRating="SL|Sol|PG">
			<subforceOption ifWeightClass="H|A">
				<option ifRating="SL|PG" weightClass="A,A" unitType="Mek"
					flags="+testTrinary" weight="5">%TRINARY%</option>
				<option ifRating="SL|PG" weightClass="A,H" unitType="Mek"
					flags="+testTrinary" weight="5">%TRINARY%</option>
				<option ifRating="SL|PG" weightClass="H,H" unitType="Mek"
					flags="+testTrinary" weight="5">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="A,A" unitType="Tank"
					flags="+testTrinary" weight="1">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="A,H" unitType="Tank"
					flags="+testTrinary" weight="1">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="H,H" unitType="Tank"
					flags="+testTrinary" weight="1">%TRINARY%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option ifRating="SL|PG" weightClass="H,M" unitType="Mek"
					flags="+testTrinary" weight="5">%TRINARY%</option>
				<option ifRating="SL|PG" weightClass="H,L" unitType="Mek"
					flags="+testTrinary" weight="5">%TRINARY%</option>
				<option ifRating="SL|PG" weightClass="M,M" unitType="Mek"
					flags="+testTrinary" weight="5">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="H,H" unitType="Tank"
					flags="+testTrinary" weight="1">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="H,M" unitType="Tank"
					flags="+testTrinary" weight="1">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="H,L" unitType="Tank"
					flags="+testTrinary" weight="1">%TRINARY%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option ifRating="SL|PG" weightClass="M,M" unitType="Mek"
					flags="+testTrinary" weight="5">%TRINARY%</option>
				<option ifRating="SL|PG" weightClass="M,L" unitType="Mek"
					flags="+testTrinary" weight="5">%TRINARY%</option>
				<option ifRating="SL|PG" weightClass="L,L" unitType="Mek"
					flags="+testTrinary" weight="5">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="M,M" unitType="Tank"
					flags="+testTrinary" weight="1">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="M,L" unitType="Tank"
					flags="+testTrinary" weight="1">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="L,L" unitType="Tank"
					flags="+testTrinary" weight="1">%TRINARY%</option>
			</subforceOption>
			
			<!--The third, if there is one, can be either Mek or vee-->
			<subforceOption ifWeightClass="A|H">
				<option ifRating="SL|PG" weightClass="A" unitType="Mek"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option ifRating="SL|PG" weightClass="H" unitType="Mek"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="A" unitType="Tank"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="H" unitType="Tank"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option weight="1" />
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option ifRating="SL|PG" weightClass="H" unitType="Mek"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option ifRating="SL|PG" weightClass="M" unitType="Mek"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="H" unitType="Tank"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="M" unitType="Tank"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option weight="1" />
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option ifRating="SL|PG" weightClass="M" unitType="Mek"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option ifRating="SL|PG" weightClass="L" unitType="Mek"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="M" unitType="Tank"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option ifRating="PG|Sol" weightClass="L" unitType="Tank"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option weight="1" />
			</subforceOption>
		</subforces>
		
		<!--Possible additional SN trinary for FL clusters.-->
			
		<subforces ifRating="FL|Keshik">
			<subforceOption ifWeightClass="A|H">
				<option weightClass="A" unitType="Mek"
					augmented="1" weight="2">%TRINARY%</option>
				<option weightClass="H" unitType="Mek"
					augmented="1" weight="2">%TRINARY%</option>
				<option weightClass="M" unitType="Mek"
					augmented="1" weight="1">%TRINARY%</option>
				<option weight="10" />
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="A" unitType="Mek"
					augmented="1">%TRINARY%</option>
				<option weightClass="H" unitType="Mek"
					augmented="1" weight="3">%TRINARY%</option>
				<option weightClass="M" unitType="Mek"
					augmented="1" weight="3">%TRINARY%</option>
				<option weightClass="L" unitType="Mek"
					augmented="1">%TRINARY%</option>
				<option weight="16" />
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H" unitType="Mek"
					augmented="1" weight="1">%TRINARY%</option>
				<option weightClass="M" unitType="Mek"
					augmented="1" weight="2">%TRINARY%</option>
				<option weightClass="L" unitType="Mek"
					augmented="1" weight="2">%TRINARY%</option>
				<option weight="10" />
			</subforceOption>
		</subforces>
		
		<!-- FL always has BA binary, some found in SL.-->
		<subforces ifRating="!Sol">
			<subforceOption>
				<option ifDateBetween="2870," unitType="BattleArmor"  
					ifRating="FL">%BINARY%</option>
				<option ifDateBetween="2900," unitType="BattleArmor"  
					ifRating="FL|SL">%BINARY%</option>
				<option ifRating="FL" ifDateBetween="2870,2900"
					weight="2" />
				<option weight="2" ifRating="SL" />
			</subforceOption>
		</subforces>
		
		<!--Two or three infantry trinaries/binaries in Solahma units.-->
		<subforces ifRating="Sol">
			<subforceOption>
				<option unitType="Infantry" flags="+testTrinary"
					num="2">%TRINARY%</option>
				<option unitType="Infantry" flags="+testTrinary"
					num="3">%TRINARY%</option>
			</subforceOption>
		</subforces>
		
		<!--Up to a trinary of ASF support. Just under half the clusters
		detailed in the Invading Clans sourcebook have any ASF, but the
		galaxy command trinary typically has at least a star and up to
		an additional attached trinary.-->
		
		<subforces ifRating="!Sol">
			<subforceOption ifWeightClass="H|A">
				<option weightClass="H" unitType="AeroSpaceFighter"
					flags="+testTrinary" weight="3">%TRINARY%</option>
				<option weightClass="M" unitType="AeroSpaceFighter"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option weightClass="L" unitType="AeroSpaceFighter"
					flags="+testTrinary" weight="1">%TRINARY%</option>
				<option weight="7" />
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H" unitType="AeroSpaceFighter"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option weightClass="M" unitType="AeroSpaceFighter"
					flags="+testTrinary" weight="3">%TRINARY%</option>
				<option weightClass="L" unitType="AeroSpaceFighter"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option weight="7" />
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H" unitType="AeroSpaceFighter"
					flags="+testTrinary" weight="1">%TRINARY%</option>
				<option weightClass="M" unitType="AeroSpaceFighter"
					flags="+testTrinary" weight="2">%TRINARY%</option>
				<option weightClass="L" unitType="AeroSpaceFighter"
					flags="+testTrinary" weight="3">%TRINARY%</option>
				<option weight="6" />
			</subforceOption>
		</subforces>
	</force>
	
	<!--About 1/3 galaxy and cluster command trinaries include two
	novas and either a BA or an ASF star.-->
		
	<force eschelon="%TRINARY%" eschName="Trinary" ifRole="command" ifAugmented="1">
		<name ifFlags="keshik">Trinary Galaxy [Command]</name>
		<name>Trinary [Command]</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
			<option weight="2">A</option>
			<option weight="4">H</option>
			<option weight="2">M</option>
			<option weight="1">L</option>
		</weightClass>

		<subforces>
			<subforceOption ifWeightClass="A">
				<option weightClass="A,A" unitType="Mek">%STAR%</option>
				<option weightClass="A,H" weight="2"
					unitType="Mek">%STAR%</option>
				<option weightClass="A,M" unitType="Mek">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option weightClass="A,L" unitType="Mek">%STAR%</option>
				<option weightClass="H,H" weight="2"
					unitType="Mek">%STAR%</option>
				<option weightClass="H,M" weight="3"
					unitType="Mek">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option weightClass="H,L" unitType="Mek">%STAR%</option>
				<option weightClass="M,M" unitType="Mek">%STAR%</option>
				<option weightClass="M,L" unitType="Mek">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option weightClass="H,L" unitType="Mek">%STAR%</option>
				<option weightClass="M,L" weight="2"
					unitType="Mek">%STAR%</option>
				<option weightClass="L,L" unitType="Mek">%STAR%</option>
			</subforceOption>

			<subforceOption ifWeightClass="A">
				<option unitType="BattleArmor" augmented="0"
					weightClass="A" weight="1">%STAR%</option>
				<option unitType="BattleArmor" augmented="0"
					weightClass="H" weight="3">%STAR%</option>
				<option unitType="BattleArmor" augmented="0"
					weightClass="M" weight="2">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="H" weight="3">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="M" weight="2">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="L" weight="1">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="H">
				<option unitType="BattleArmor" augmented="0"
					weightClass="A" weight="1">%STAR%</option>
				<option unitType="BattleArmor" augmented="0"
					weightClass="H" weight="2">%STAR%</option>
				<option unitType="BattleArmor" augmented="0"
					weightClass="M" weight="2">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="H" weight="2">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="M" weight="2">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="L" weight="1">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option unitType="BattleArmor" augmented="0"
					weightClass="H" weight="1">%STAR%</option>
				<option unitType="BattleArmor" augmented="0"
					weightClass="M" weight="2">%STAR%</option>
				<option unitType="BattleArmor" augmented="0"
					weightClass="L" weight="1">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="H" weight="1">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="M" weight="2">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="L" weight="1">%STAR%</option>
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option unitType="BattleArmor" augmented="0"
					weightClass="H" weight="1">%STAR%</option>
				<option unitType="BattleArmor" augmented="0"
					weightClass="M" weight="3">%STAR%</option>
				<option unitType="BattleArmor" augmented="0"
					weightClass="L" weight="2">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="H" weight="1">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="M" weight="2">%STAR%</option>
				<option unitType="AeroSpaceFighter" augmented="0"
					weightClass="L" weight="3">%STAR%</option>
			</subforceOption>
		</subforces>
	</force>
		
	<!--Galaxy command trinaries may have attached ASF or artillery
	units.-->
	
	<force eschelon="%TRINARY%" eschName="Trinary" ifRole="command">
		<name ifFlags="keshik">Trinary Galaxy [Command]</name>
		<name>Trinary [Command]</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
			<option weight="2">A</option>
			<option weight="4">H</option>
			<option weight="2">M</option>
			<option weight="1">L</option>
		</weightClass>
		
		<changeEschelon ifFlags="testTrinary"
				ifRating="FL|Keshik" ifDateBetween="2870,">
			<option flags="-testTrinary" augmented="1"
				weight="2">%TRINARY%</option>
			<option  flags="-testTrinary" augmented="0"
				weight="1">%TRINARY%</option>
		</changeEschelon>
		
		<subforces>
			<asParent />
		</subforces>

		<attachedForces ifFlags="keshik">
			<subforceOption>
				<option ifRating="!Sol" unitType="Mek"
					role="artillery" flags="-keshik"
					name="Binary [Artillery]">%BINARY%</option>
				<option ifRating="SL|Sol" unitType="Tank"
					role="artillery" flags="-keshik"
					name="Binary Artillery">%BINARY%</option>
				<option weight="2" />
			</subforceOption>

			<subforceOption ifWeightClass="A|H">
				<option unitType="AeroSpaceFighter"
					weightClass="H" weight="3">%STAR%</option>
				<option unitType="AeroSpaceFighter"
					weightClass="M" weight="2">%STAR%</option>
				<option unitType="AeroSpaceFighter"
					weightClass="L" weight="1">%STAR%</option>
				<option weight="6" />
			</subforceOption>
			<subforceOption ifWeightClass="M">
				<option unitType="AeroSpaceFighter"
					weightClass="H" weight="2">%STAR%</option>
				<option unitType="AeroSpaceFighter"
					weightClass="M" weight="3">%STAR%</option>
				<option unitType="AeroSpaceFighter"
					weightClass="L" weight="2">%STAR%</option>
				<option weight="7" />
			</subforceOption>
			<subforceOption ifWeightClass="L">
				<option unitType="AeroSpaceFighter"
					weightClass="H" weight="1">%STAR%</option>
				<option unitType="AeroSpaceFighter"
					weightClass="M" weight="2">%STAR%</option>
				<option unitType="AeroSpaceFighter"
					weightClass="L" weight="3">%STAR%</option>
				<option weight="6" />
			</subforceOption>
		</attachedForces>
	</force>

	<force eschelon="%TRINARY%" eschName="Trinary" ifAugmented="0" ifUnitType="Mek|ProtoMek">
		<name ifRole="command">Trinary [Command]</name>
		<name ifWeightClass="H|A"
			>{ordinal:distinct} Trinary [Assault]</name>
		<name ifWeightClass="M">{ordinal:distinct} Trinary [Battle]</name>
		<name ifWeightClass="L">{ordinal:distinct} Trinary [Striker]</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="3">H</option>
			<option weight="2">M</option>
			<option weight="1">L</option>
			<option ifRole="command" weight="1">A</option>
			<option ifRole="command" weight="1">H</option>
		</weightClass>
	
		<unitType ifUnitType="Mek" ifDateBetween="3059,"
				ifRating="SL|PG|Sol" ifTopLevel="0">
			<option weight="6" />
			<option>ProtoMek</option>
		</unitType>

		<subforces ifUnitType="Mek">
			<asParent />
		</subforces>
		
		<subforces ifUnitType="ProtoMek">
			<subforce num="3">%STAR%</subforce>
		</subforces>
	</force>

	<force eschelon="%TRINARY%" eschName="Supernova Trinary" ifAugmented="1" ifUnitType="Mek">
		<name ifRole="command">Supernova Command</name>
		<name ifWeightClass="H|A"
			>{ordinal:distinct} Supernova Assault</name>
		<name ifWeightClass="M"
			>{ordinal:distinct} Supernova Battle</name>
		<name ifWeightClass="L"
			>{ordinal:distinct} Supernova Striker</name>
		<co>%NOVA_CAPTAIN%</co>
		
		<changeEschelon ifDateBetween=",2869">
			<option augmented="0">%TRINARY%</option>
		</changeEschelon>
		
		<ruleGroup>
			<weightClass>
				<option weight="1">A</option>
				<option weight="3">H</option>
				<option weight="2">M</option>
				<option weight="1">L</option>
				<option ifRole="command" weight="1">A</option>
				<option ifRole="command" weight="1">H</option>
			</weightClass>
		</ruleGroup>
		
		<subforces>
			<asParent />
		</subforces>
	</force>
	
	<force eschelon="%TRINARY%" eschName="Trinary" ifUnitType="Tank">
		<name ifRole="command">Trinary Command</name>
		<name>Trinary {ordinal}</name>
		<co>%STAR_CAPTAIN%</co>
		
		<changeEschelon ifFlags="testTrinary">
			<option flags="-testTrinary">%TRINARY%</option>
			<option flags="-testTrinary">%BINARY%</option>
		</changeEschelon>
		
		<ruleGroup>
			<weightClass>
				<option weight="2">A</option>
				<option weight="3">H</option>
				<option weight="1">M</option>
				<option weight="2">L</option>
			</weightClass>
		</ruleGroup>
		
		<subforces>
			<asParent />
		</subforces>
	</force>

	<force eschelon="%TRINARY%" eschName="Trinary" ifUnitType="AeroSpaceFighter">
		<name ifRole="command">Trinary Command</name>
		<name>{ordinal:distinct} Trinary [Fighter]</name>
		<co>%STAR_CAPTAIN%</co>
		
		<changeEschelon ifFlags="testTrinary">
			<option flags="-testTrinary" weight="6">%TRINARY%</option>
			<option flags="-testTrinary" weight="1">%BINARY%</option>
			<option flags="-testTrinary" weight="3">%STAR%</option>
		</changeEschelon>
		
		<ruleGroup>
			<weightClass>
				<option>H</option>
				<option>M</option>
				<option>L</option>
				<option ifRole="command" weight="2">H</option>
				<option ifRole="command" weight="1">H</option>
			</weightClass>
		</ruleGroup>
		
		<subforces>
			<asParent />
		</subforces>
	</force>

	<force eschelon="%TRINARY%" eschName="Trinary" ifUnitType="BattleArmor|Infantry">
		<name ifRole="command">Trinary [Command]</name>
		<name ifUnitType="BattleArmor"
			>{ordinal:distinct} Trinary [Elemental]</name>
		<name ifUnitType="Infantry"
			>{ordinal:distinct} Trinary [Infantry]</name>
		<co>%STAR_CAPTAIN%</co>
		
		<changeEschelon ifFlags="testTrinary">
			<option flags="-testTrinary" weight="3">%TRINARY%</option>
			<option flags="-testTrinary" weight="1">%BINARY%</option>
		</changeEschelon>

		<ruleGroup>				
			<unitType ifUnitType="BattleArmor" ifDateBetween=",2870">
				<option>Infantry</option>
			</unitType>
		</ruleGroup>
		
		<subforces>
			<asParent />
		</subforces>
	</force>

	<force eschelon="%BINARY%" eschName="Binary" ifAugmented="0" ifUnitType="Mek|ProtoMek">
		<name ifRole="command">Binary [Command]</name>
		<name ifWeightClass="H|A">{ordinal:distinct} Binary [Assault]</name>
		<name ifWeightClass="M">{ordinal:distinct} Binary [Battle]</name>
		<name ifWeightClass="L">{ordinal:distinct} Binary [Striker]</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="3">H</option>
			<option weight="2">M</option>
			<option weight="1">L</option>
			<option ifRole="command" weight="1">A</option>
			<option ifRole="command" weight="1">H</option>
		</weightClass>
		
		<unitType ifUnitType="Mek" ifDateBetween="3059,"
				ifRating="SL|PG|Sol" ifTopLevel="0">
			<option weight="6" />
			<option>ProtoMek</option>
		</unitType>

		<subforces ifUnitType="Mek">
			<asParent />
		</subforces>
		
		<subforces ifUnitType="ProtoMek">
			<subforce ifUnitType="ProtoMek"
				num="2">%STAR%</subforce>
		</subforces>
	</force>

	<force eschelon="%BINARY%" eschName="Supernova Binary" ifAugmented="1" ifUnitType="Mek">
		<name ifRole="command">Supernova Command</name>
		<name ifWeightClass="H|A"
			>{ordinal:distinct} Supernova [Assault]</name>
		<name ifWeightClass="M">{ordinal:distinct} Supernova [Battle]</name>
		<name ifWeightClass="L"
			>{ordinal:distinct} Supernova [Striker]</name>
		<co>%NOVA_CAPTAIN%</co>
		
		<changeEschelon ifDateBetween=",2869">
			<option augmented="0">%BINARY%</option>
		</changeEschelon>
		
		<ruleGroup>
			<weightClass>
				<option weight="1">A</option>
				<option weight="3">H</option>
				<option weight="2">M</option>
				<option weight="1">L</option>
				<option ifRole="command" weight="1">A</option>
				<option ifRole="command" weight="1">H</option>
			</weightClass>
		</ruleGroup>
		
		<subforces>
			<asParent />
		</subforces>
	</force>

	<force eschelon="%BINARY%" eschName="Binary" ifUnitType="Tank">
		<name ifRole="command">Binary [Command]</name>
		<name>Binary {ordinal:distinct}</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="3">H</option>
			<option weight="2">M</option>
			<option weight="1">L</option>
		</weightClass>
		
		<subforces>
			<asParent />
		</subforces>
	</force>

	<force eschelon="%BINARY%" eschName="Binary" ifUnitType="AeroSpaceFighter">
		<name ifRole="command">Binary [Command]</name>
		<name>{ordinal:distinct} Binary [Fighter]</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
			<option>H</option>
			<option>M</option>
			<option>L</option>
			<option ifRole="command" weight="2">H</option>
			<option ifRole="command" weight="1">M</option>
		</weightClass>
		
		<subforces>
			<asParent />
		</subforces>
	</force>

	<force eschelon="%BINARY%" eschName="Binary" ifUnitType="BattleArmor|Infantry">
		<name ifRole="command">Binary [Command]</name>
		<name ifUnitType="BattleArmor"
			>{ordinal:distinct} Binary [Elemental]</name>
		<name ifUnitType="Infantry"
			>{ordinal:distinct} Binary [Infantry]</name>
		<name ifUnitType="ProtoMek"
			>{ordinal:distinct} Binary [ProtoMek]</name>
		<co>%STAR_CAPTAIN%</co>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="2">H</option>
			<option weight="4">M</option>
			<option weight="3">L</option>
		</weightClass>

		<unitType ifUnitType="BattleArmor" ifDateBetween=",2868">
			<option>Infantry</option>
		</unitType>

		<subforces>
			<asParent />
		</subforces>
	</force>

	<force eschelon="%STAR%" eschName="Star" ifAugmented="0" ifUnitType="Mek">
		<name>{phonetic} {name:parent} Star</name>
		<co>%STAR_CMDR%</co>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="3">H</option>
			<option weight="2">M</option>
			<option weight="1">L</option>
			<option ifRole="command" weight="1">A</option>
			<option ifRole="command" weight="1">H</option>			
		</weightClass>

        <ruleGroup>
			<formation ifIndex="0">
				<option weight="30">Battle</option>
				<option weight="12" ifWeightClass="H|A">Heavy Battle</option>
				<option weight="8" ifWeightClass="M">Medium Battle</option>
				<option weight="2" ifWeightClass="L">Light Battle</option>
				<option weight="12" ifWeightClass="H|A">Assault</option>
				<option weight="8" ifWeightClass="L|M|H">Striker/Cavalry</option>
				<option weight="4" ifWeightClass="H|A">Heavy Striker/Cavalry</option>
				<option weight="4" ifWeightClass="L">Light Striker/Cavalry</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" role="+urban">Urban</option>
			</formation>

			<formation ifIndex="!0">
				<option weight="20">Fire</option>
				<option weight="3">Fire Support</option>
				<option weight="2">Direct Fire</option>
				<option weight="2" ifWeightClass="L|M">Light Fire</option>
				<option weight="1" role="+anti_aircraft">Anti-Air</option>
				<option weight="24">Battle</option>
				<option weight="6" ifIndex="0,1">Battle</option>
				<option weight="12" ifWeightClass="H|A">Heavy Battle</option>
				<option weight="6" ifWeightClass="M">Medium Battle</option>
				<option weight="2" ifWeightClass="L">Light Battle</option>
				<option weight="6" ifWeightClass="H|A">Assault</option>
				<option weight="4" ifWeightClass="L|M|H">Striker/Cavalry</option>
				<option weight="4" ifWeightClass="H|A">Heavy Striker/Cavalry</option>
				<option weight="2" ifWeightClass="L">Light Striker/Cavalry</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" ifWeightClass="L|M|H">Ranger</option>
				<option weight="1" ifWeightClass="L|M|H">Probe</option>
				<option weight="1" ifWeightClass="L|M|H">Sweep</option>
				<option weight="1" role="+urban">Urban</option>
				<option weight="24" ifWeightClass="L|M" role="+recon">Recon</option>
				<option weight="8" ifWeightClass="H" role="+recon">Heavy Recon</option>
				<option weight="6" ifWeightClass="L" role="+recon">Light Recon</option>				
			</formation>
		</ruleGroup>
		
		<subforces>
			<asParent />
		</subforces>
	</force>
	
	<force eschelon="%STAR%" eschName="Nova" ifAugmented="1" ifUnitType="Mek">
		<name ifFlags="clusterCommand|keshik"
			>{phonetic} Command  Nova</name>
		<name>{phonetic} Nova</name>
		<co>%NOVA_CMDR%</co>
		<xo unitType="other">%STAR_CMDR%</xo>
		
		<changeEschelon ifDateBetween=",2869">
			<option augmented="0">%STAR%</option>
		</changeEschelon>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="3">H</option>
			<option weight="2">M</option>
			<option weight="1">L</option>
			<option ifRole="command" weight="1">A</option>
			<option ifRole="command" weight="1">H</option>			
		</weightClass>
		
		<role>
			<option>+omni</option>
		</role>

        <ruleGroup>
			<formation ifIndex="0">
				<option weight="30">Battle</option>
				<option weight="12" ifWeightClass="H|A">Heavy Battle</option>
				<option weight="8" ifWeightClass="M">Medium Battle</option>
				<option weight="2" ifWeightClass="L">Light Battle</option>
				<option weight="12" ifWeightClass="H|A">Assault</option>
				<option weight="8" ifWeightClass="L|M|H">Striker/Cavalry</option>
				<option weight="4" ifWeightClass="H|A">Heavy Striker/Cavalry</option>
				<option weight="4" ifWeightClass="L">Light Striker/Cavalry</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" role="+urban">Urban</option>
			</formation>

			<formation ifIndex="!0">
				<option weight="20">Fire</option>
				<option weight="3">Fire Support</option>
				<option weight="2">Direct Fire</option>
				<option weight="2" ifWeightClass="L|M">Light Fire</option>
				<option weight="1" role="+anti_aircraft">Anti-Air</option>
				<option weight="24">Battle</option>
				<option weight="6" ifIndex="0,1">Battle</option>
				<option weight="12" ifWeightClass="H|A">Heavy Battle</option>
				<option weight="6" ifWeightClass="M">Medium Battle</option>
				<option weight="2" ifWeightClass="L">Light Battle</option>
				<option weight="6" ifWeightClass="H|A">Assault</option>
				<option weight="4" ifWeightClass="L|M|H">Striker/Cavalry</option>
				<option weight="4" ifWeightClass="H|A">Heavy Striker/Cavalry</option>
				<option weight="2" ifWeightClass="L">Light Striker/Cavalry</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" ifWeightClass="L|M|H">Ranger</option>
				<option weight="1" ifWeightClass="L|M|H">Probe</option>
				<option weight="1" ifWeightClass="L|M|H">Sweep</option>
				<option weight="1" role="+urban">Urban</option>
				<option weight="24" ifWeightClass="L|M" role="+recon">Recon</option>
				<option weight="8" ifWeightClass="H" role="+recon">Heavy Recon</option>
				<option weight="6" ifWeightClass="L" role="+recon">Light Recon</option>				
			</formation>
		</ruleGroup>
		
		<subforces>
			<asParent />
		</subforces>
	</force>

	<force eschelon="%STAR%" eschName="Star" ifUnitType="Tank">
		<name>{phonetic} Star</name>
		<co>%STAR_CMDR%</co>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="3">H</option>
			<option weight="1">M</option>
			<option weight="2">L</option>
		</weightClass>

		<ruleGroup>
			<formation>
				<option weight="32">Fire</option>
				<option weight="6">Fire Support</option>
				<option weight="4">Direct Fire</option>
				<option weight="4">Light Fire</option>
				<option weight="2" role="+anti_aircraft">Anti-Air</option>
				<option weight="8">Artillery Fire</option>
				<option weight="30">Battle</option>
				<option weight="12" ifWeightClass="H|A">Heavy Battle</option>
				<option weight="8" ifWeightClass="M">Medium Battle</option>
				<option weight="2" ifWeightClass="L">Light Battle</option>
				<option weight="6" ifWeightClass="H|A">Assault</option>
				<option weight="4" ifWeightClass="L|M|H">Striker/Cavalry</option>
				<option weight="2" ifWeightClass="H|A">Heavy Striker/Cavalry</option>
				<option weight="2" ifWeightClass="L">Light Striker/Cavalry</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" ifWeightClass="L|M|H">Ranger</option>
				<option weight="1" ifWeightClass="L|M|H">Pursuit</option>
				<option weight="1" ifWeightClass="L|M|H">Probe</option>
				<option weight="1" ifWeightClass="L|M|H">Sweep</option>
				<option weight="32" ifWeightClass="L|M" role="+recon">Recon</option>
				<option weight="10" ifWeightClass="H" role="+recon">Heavy Recon</option>
				<option weight="10" ifWeightClass="L" role="+recon">Light Recon</option>				
			</formation>
 		</ruleGroup>

		<subforces>
			<asParent />
		</subforces>
	</force>
	
	<force eschelon="%STAR%" eschName="Star" ifUnitType="AeroSpaceFighter">
		<name>{phonetic} Fighter Star</name>
		<co>%STAR_CMDR%</co>
		
		<weightClass>
			<option>H</option>
			<option>M</option>
			<option>L</option>
			<option ifRole="command" weight="2">H</option>
			<option ifRole="command" weight="1">M</option>			
		</weightClass>

		<ruleGroup>
			<formation>
				<option weight="3" ifWeightClass="L|M">Aerospace Superiority Squadron</option>
				<option>Fire Support Squadron</option>
				<option weight="2" ifWeightClass="L|M">Interceptor Squadron</option>
				<option weight="3" ifWeightClass="M|H">Strike Squadron</option>
			</formation>
		</ruleGroup>

		<subforces>
			<asParent />
		</subforces>
	</force>
	
	<force eschelon="%STAR%" eschName="Star" ifUnitType="BattleArmor|Infantry">
		<name>{phonetic} {name:parent} Star</name>
		<co>%STAR_CMDR%</co>
		
		<weightClass>
			<option weight="1">A</option>
			<option weight="2">H</option>
			<option weight="4">M</option>
			<option weight="3">L</option>
		</weightClass>
		
		<unitType ifUnitType="BattleArmor" ifDateBetween=",2870">
			<option>Infantry</option>
		</unitType>

		<subforces generate="group">
			<subforce num="5">%POINT%</subforce>
		</subforces>
	</force>
	
</ruleset>
